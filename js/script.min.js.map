{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.min.js","sourcesContent":["\"use strict\";\n\nfunction setUpSearch() {\n  const searchbar = document.querySelector(\".searchbar\");\n  if (!searchbar) {\n    return;\n  }\n  const input = searchbar.querySelector(\"input\");\n  const updateElement = (state) => {\n    const searchResult = input.value || state;\n    searchbar.classList.toggle(\"active\", searchResult);\n  };\n  input.addEventListener(\"focus\", updateElement.bind(null, true));\n  input.addEventListener(\"blur\", updateElement.bind(null, false));\n}\n\nfunction setUpPanel() {\n  const overlay = document.querySelector(\".overlay\");\n  const overlayPanel = document.querySelector(\".overlay-panel\");\n  if (!overlay || !overlayPanel) {\n    return;\n  }\n\n  const elements = document.querySelectorAll(\".people-list__action\");\n  const elementsArray = [...elements];\n  elementsArray.forEach((element) => {\n    element.addEventListener(\"click\", () => {\n      overlay.classList.toggle(\"active\", true);\n      overlayPanel.classList.toggle(\"active\", true);\n      document.body.classList.toggle(\"lock\", true);\n    });\n  });\n\n  const gutterElements = [\n    ...document.querySelectorAll(\".panel-gutter,.overlay\"),\n  ];\n  gutterElements.forEach((element) => {\n    element.addEventListener(\"click\", () => {\n      overlay.classList.toggle(\"active\", false);\n      overlayPanel.classList.toggle(\"active\", false);\n      document.body.classList.toggle(\"lock\", false);\n    });\n  });\n}\n\nfunction setUpCalendar() {\n  const calendarEl = document.querySelector(\".calendarEl\");\n  if (!calendarEl) {\n    return;\n  }\n  const calendar = new FullCalendar.Calendar(calendarEl, {\n    timeZone: \"UTC\",\n    initialView: \"timeGridWeek\",\n    headerToolbar: {\n      left: \"prev,next today\",\n      center: \"title\",\n      right: \"timeGridWeek,timeGridDay\",\n    },\n    events: \"https://fullcalendar.io/api/demo-feeds/events.json\",\n    eventColor: \"#1C51B9\",\n    locale: \"ru\",\n    buttonText: {\n      today: \"сегодня\",\n      month: \"месяц\",\n      week: \"неделя\",\n      day: \"день\",\n      list: \"список\",\n    },\n    allDayContent: function () {\n      return \"весь день\";\n    },\n  });\n  calendar.render();\n}\n\nfunction setUpBackScroll() {\n  const scrollBackPanel = document.querySelector(\".scroll-back\");\n  const personPhoto = document.querySelector(\".scroll-back__panel\");\n  if (!scrollBackPanel) {\n    return;\n  }\n  let previousScroll = 0;\n  window.addEventListener(\"scroll\", function () {\n    const show = window.scrollY < previousScroll;\n    scrollBackPanel.classList.toggle(\"visible\", show);\n    if (personPhoto) {\n      personPhoto && personPhoto.classList.toggle(\"shift\", show);\n    }\n    previousScroll = window.scrollY;\n  });\n}\n\nfunction setUpBurger() {\n  const burgerButton = document.querySelector(\".burger\");\n  const nav = document.querySelector(\".nav\");\n  const navLinks = [...document.querySelectorAll(\".nav__link\")];\n  if (!nav || !burgerButton || !navLinks.length) {\n    return;\n  }\n  burgerButton.addEventListener(\"click\", () => {\n    burgerButton.classList.toggle(\"active\");\n    nav.classList.toggle(\"active\");\n    document.body.classList.toggle(\"lock\");\n  });\n  navLinks.forEach((el) =>\n    el.addEventListener(\"click\", () => {\n      burgerButton.classList.toggle(\"active\", false);\n      nav.classList.toggle(\"active\", false);\n    })\n  );\n}\n\nfunction setUpSwitchers() {\n  const switchers = [...document.querySelectorAll(\".switcher\")];\n  if (switchers.length) {\n    switchers.forEach((switcherElement) => {\n      let activeIndex = 0;\n      const children = [...switcherElement.children];\n      if (children.length) {\n        const buttonContainer = document.createElement(\"div\");\n        buttonContainer.classList.add(\"switcher__button-container\");\n        switcherElement.appendChild(buttonContainer);\n\n        const label = document.createElement(\"span\");\n        label.innerText = \"Switch layout variant\";\n        label.classList.add(\"switcher__label\");\n        buttonContainer.appendChild(label);\n\n        const updateElements = (index) => {\n          activeIndex = index;\n          children.forEach((child, idx) => {\n            child.classList.toggle(\"visible\", activeIndex === idx);\n          });\n\n          [...buttonContainer.querySelectorAll(\".switcher__button\")].forEach(\n            (child, idx) => {\n              child.classList.toggle(\"active\", activeIndex === idx);\n            }\n          );\n        };\n\n        children.forEach((child, index) => {\n          child.classList.add(\"switcher__child\");\n\n          const div = document.createElement(\"div\");\n          div.classList.add(\"switcher__button\");\n          buttonContainer.appendChild(div);\n\n          div.addEventListener(\"click\", () => {\n            updateElements(index);\n          });\n        });\n\n        updateElements(0);\n      }\n    });\n  }\n}\n\nfunction setUpFormFields() {\n  const elements = [...document.querySelectorAll(\".form-input__container\")];\n  elements.forEach((element) => {\n    const input = element.querySelector(\"input\");\n    if (input) {\n      element.addEventListener(\"click\", () => {\n        input.focus();\n      });\n      input.addEventListener(\"focus\", () => {\n        element.classList.add(\"active\");\n      });\n      input.addEventListener(\"blur\", () => {\n        element.classList.remove(\"active\");\n      });\n    }\n  });\n}\n\nfunction setUpHeaderScroll() {\n  const header = document.querySelector(\".site-header\");\n  if (header) {\n    window.addEventListener(\"scroll\", () => {\n      header.classList.toggle(\"small\", window.scrollY > 0);\n    });\n  }\n}\n\nwindow.addEventListener(\"load\", function () {\n  setUpSearch();\n  setUpPanel();\n  setUpCalendar();\n  setUpBackScroll();\n  setUpBurger();\n  setUpSwitchers();\n  setUpFormFields();\n  setUpHeaderScroll();\n});\n"]}